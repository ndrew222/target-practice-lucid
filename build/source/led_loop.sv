/*
    This file was generated automatically by Alchitry Labs 2.0.30-BETA.
    Do not edit this file directly. Instead edit the original Lucid source.
    This is a temporary file and any changes made to it will be destroyed.
*/

module led_loop (
        input wire clk,
        output reg [2:0][7:0] io_led,
        output reg [7:0] led
    );
    logic [7:0] D_led_index_d, D_led_index_q = 8'h80;
    logic [1:0] D_led_set_d, D_led_set_q = 2'h2;
    logic D_right_d, D_right_q = 1'h1;
    always @* begin
        D_led_index_d = D_led_index_q;
        D_right_d = D_right_q;
        D_led_set_d = D_led_set_q;
        
        led = D_led_index_q;
        
        case (D_led_set_q)
            2'h2: begin
                io_led = {D_led_index_q, 8'h0, 8'h0};
            end
            2'h1: begin
                io_led = {8'h0, D_led_index_q, 8'h0};
            end
            2'h0: begin
                io_led = {8'h0, 8'h0, D_led_index_q};
            end
            default: begin
                io_led = {{8'h0, 8'h0, 8'h0}};
            end
        endcase
        if (D_right_q == 1'h1) begin
            D_led_index_d = D_led_index_q >> 1'h1;
            if (D_led_index_q == 8'h1 && D_led_set_q == 2'h0) begin
                D_right_d = 1'h0;
            end
            if (D_led_index_q == 8'h1 && D_led_set_q > 2'h0) begin
                D_led_index_d = 8'h80;
                D_led_set_d = D_led_set_q + 1'h1;
            end
        end
        if (D_right_q == 1'h0) begin
            D_led_index_d = D_led_index_q * 2'h2;
            if (D_led_index_q == 8'h80 && D_led_set_q == 2'h2) begin
                D_right_d = 1'h1;
            end
            if (D_led_index_q == 8'h80 && D_led_set_q < 2'h2) begin
                D_led_index_d = 8'h1;
                D_led_set_d = D_led_set_q - 1'h1;
            end
        end
    end
    
    
    always @(posedge (clk)) begin
        D_led_index_q <= D_led_index_d;
        D_led_set_q <= D_led_set_d;
        D_right_q <= D_right_d;
        
    end
endmodule